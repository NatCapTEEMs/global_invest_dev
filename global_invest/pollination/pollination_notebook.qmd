---
title: 1. Import packages & read data
jupyter: python3
---


Here i import the gep_agr package and calculate the data for both livestock and crops.


```{python}
import matplotlib.pyplot as plt
import os
import hazelbean as hb
from global_invest.commercial_agriculture import commercial_agriculture_functions
from global_invest.commercial_agriculture import commercial_agriculture_defaults

project_name = 'commercial_agriculture_gep' 
project_dir = os.path.join(os.path.expanduser('~'), 'Files', 'gep', 'projects', project_name)
p = hb.ProjectFlow(project_dir)
p.base_data_dir = "G:/Shared drives/NatCapTEEMs/Files/base_data"

livestock = commercial_agriculture_functions.calculate_gep(p.base_data_dir, items=commercial_agriculture_defaults.DEFAULT_LIVESTOCK_ITEMS)
crops = commercial_agriculture_functions.calculate_gep(p.base_data_dir, items=commercial_agriculture_defaults.DEFAULT_CROP_ITEMS)
```

# 2. Selected year
Display global value for for both livestock and crops for selected year: 2019

```{python}

def year_value(df, year):
    return df[df['year'] == year]['total_gep'].iloc[0]
print(year_value(livestock['gep_by_year'], 2019))
print(year_value(crops['gep_by_year'], 2019))
```

# 3. All countries 2019
Display country level value for for both livestock and crops for selected year: 2019

```{python}
df = crops["gep_by_year_country"]
display(df[df["year"] == 2019])

df = livestock["gep_by_year_country"]
display(df[df["year"] == 2019])
```

# 4. All countries all crops/ livestock 2019
Display country level value for for both livestock and crops items for selected year: 2019

```{python}
df = crops["gep_by_country_year_crop"]
display(df[df["year"] == 2019])

df = livestock["gep_by_country_year_crop"]
display(df[df["year"] == 2019])
```

Some initial dta exploration

```{python}
df = livestock["gep_by_year"]
df2 = crops["gep_by_year"]
display(df)

plt.plot(df["year"], df["total_gep"], marker="o", linestyle="-")
plt.plot(df2["year"], df2["total_gep"], marker="o", linestyle="-")
plt.title("Time Series of Commercial Agriculture (All Countries)")
plt.xlabel("Year")
plt.ylabel("GEP (1000 USD)")
plt.xticks(rotation=45)
plt.grid(True)
plt.show()
```

